<!DOCTYPE html>
<html
  xmlns:th="http://www.thymeleaf.org"
  th:fragment="layout (template, menu)"
  lang="en"
>
  <head>
    <title th:replace="~{:: #pageTitle}">Layout Generic Title</title>
    <link rel="icon" href="favicon.ico" />
    <link rel="icon" type="image/png" href="icon-192x192.png" sizes="192x192" />
    <link
      rel="stylesheet"
      type="text/css"
      th:href="@{/stylesheets/dashboard.css}"
    />
    <script src="/js/dashboard.js"></script>
  </head>
  <head th:replace="~{::header}"> </head>
  <body>
    <nav class="navbar fixed-top bg-body-tertiary nav-vfim">
      <div class="row row-content">
        <a th:href="@{/dashboard}">
          <button type="button" class="btn" style="margin-left: 20px">
            <img src="/vfims-logo.png" alt="..." width="100" />
          </button>
        </a>
      </div>
      <div class="btn-container-user">
        <div class="dropdown-center">
          <button
            class="btn btn-user btn-outline-primary d-flex flex-row align-items-center"
            type="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <span
              id="username_txt"
              th:text="${session.username == null} ? 'dev' : ${session.username}"
              style="margin-right: 10px"
            ></span>
            <div class="avatar-circle" id="btn-user">
              <p
                th:text="${session.username == null } ? 'D' : ${session.username.substring(0,1).toUpperCase()}"
                style="margin: 0"
              ></p>
            </div>
          </button>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/logout">Logout</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container-fluid">
      <div class="row">
        <div class="col-3 position-fixed" id="sticky-sidebar">
          <div
            class="nav flex-column flex-nowrap vh-100 overflow-auto text-white"
            style="padding: 15px 0"
          >
            <a
              class="nav-link active"
              aria-current="page"
              href="/dashboard"
              style="margin-top: 70px"
            >
              <img
                src="/img-icon/house-chimney.png"
                style="margin-right: 20px"
              />
              Dashboard
            </a>
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mt-3 mb-3 border-bottom"
              style="padding: 0 40px"
            ></div>
            <a class="nav-link" href="/generate-item-report">
              <img src="/img-icon/image10.png" style="margin-right: 20px" />
              Generate Report
            </a>
            <div
              class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center mt-3 mb-3 border-bottom"
              style="padding: 0 40px"
            ></div>
            <a class="nav-link mb-2" href="/staff/items">
              <img src="/img-icon/box-open.png" style="margin-right: 20px" />
              Items
            </a>
            <a class="nav-link mb-2" href="/request-items/request-item-dry">
              <img
                src="/img-icon/hand-holding-box.png"
                style="margin-right: 20px"
              />
              Request Item
            </a>

            <a class="nav-link mb-2" href="/restockitem">

              <img src="/img-icon/box-alt.png" style="margin-right: 20px" />
              Restock Item
            </a>
          </div>
        </div>
        <div
          class="col-9 offset-3 main-section"
          id="main"
          style="padding-top: 70px"
        >
          <div th:replace="${template}"></div>
        </div>
      </div>
    </div>
    <script>
      let text = document.getElementById("username_txt").innerText;
      document.getElementById("btn-user").style.backgroundColor =
        getColor(text);
      console.log("color", getColor(text));
    </script>
    <script
      th:src="@{https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.7/dist/umd/popper.min.js}"
      integrity="sha384-zYPOMqeu1DAVkHiLqWBUTcbYfZ8osu1Nd6Z89ify25QV9guujx43ITvfi12/QExE"
      crossorigin="anonymous"
    ></script>
    <script
      th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js}"
      integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
      crossorigin="anonymous"
    ></script>
    <script
      th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js}"
      integrity="sha384-Y4oOpwW3duJdCWv5ly8SCFYWqFDsfob/3GkgExXKV4idmbt98QcxXYs9UoXAB7BZ"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
